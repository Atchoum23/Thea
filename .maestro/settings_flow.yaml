# Thea Settings Flow - Test settings navigation and major sections
appId: app.thea.ios
---
- launchApp:
    permissions:
      all: allow

# Wait for app UI to settle
- waitForAnimationToEnd

# DIAGNOSTIC: capture whatever is on screen immediately after launch
- takeScreenshot: debug_1_after_wait

# Dismiss any system alert (e.g. "Running in Temporary Mode" from ModelContainer fallback)
- tapOn:
    text: "Continue"
    optional: true

# Verify home screen via accessibilityIdentifier (bypasses .combine visibility issue)
- assertVisible:
    id: "welcome-greeting"

# Navigate to Settings tab â€” tab title text is the reliable selector (id: does not propagate)
- tapOn:
    text: "Settings"
    optional: true

- takeScreenshot: settings_main

# Check major settings sections exist
- assertVisible:
    text: "Appearance"
    optional: true

# Navigate to AI Providers (if visible)
- tapOn:
    text: "AI Providers"
    optional: true
- takeScreenshot: settings_ai_providers
- back

# Navigate to Appearance section
- scrollUntilVisible:
    element:
      text: "Appearance"
    direction: DOWN
    optional: true

- takeScreenshot: settings_appearance

# Check theme picker exists
- assertVisible:
    text: "Theme"
    optional: true

# Scroll to About section
- scrollUntilVisible:
    element:
      text: "About"
    direction: DOWN
    optional: true

- takeScreenshot: settings_about

# Navigate back to Chat
- tapOn:
    text: "Chat"
    optional: true
