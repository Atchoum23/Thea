<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thea Settings</title>
    <link rel="stylesheet" href="options.css">
</head>
<body>
    <div class="layout">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <svg width="24" height="24" viewBox="0 0 64 64" fill="none">
                    <rect width="64" height="64" rx="14" fill="url(#slg)"/>
                    <path d="M20 24h24M20 32h18M20 40h22" stroke="#fff" stroke-width="3" stroke-linecap="round"/>
                    <circle cx="46" cy="42" r="8" fill="#00D4AA" stroke="#fff" stroke-width="2"/>
                    <path d="M44 42l2 2 4-4" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <defs><linearGradient id="slg" x1="0" y1="0" x2="64" y2="64"><stop stop-color="#0066FF"/><stop offset="1" stop-color="#00D4AA"/></linearGradient></defs>
                </svg>
                <span>Thea Settings</span>
            </div>
            <ul class="nav-list">
                <li class="nav-item active" data-section="general">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
                    General
                </li>
                <li class="nav-item" data-section="darkmode">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
                    Dark Mode
                </li>
                <li class="nav-item" data-section="video">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>
                    Video
                </li>
                <li class="nav-item" data-section="ai">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
                    AI Assistant
                </li>
                <li class="nav-item" data-section="privacy">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                    Privacy
                </li>
                <li class="nav-item" data-section="passwords">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                    Passwords
                </li>
                <li class="nav-item" data-section="memory">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                    Memory
                </li>
                <li class="nav-item" data-section="writing">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
                    Writing
                </li>
                <li class="nav-item" data-section="adblocker">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="9" y1="9" x2="15" y2="15"/><line x1="15" y1="9" x2="9" y2="15"/></svg>
                    Ad Blocker
                </li>
                <li class="nav-item" data-section="about">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
                    About
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="content">
            <!-- General -->
            <section id="section-general" class="settings-section active">
                <h2>General</h2>
                <div class="card">
                    <div class="field-row">
                        <label>Extension Name</label>
                        <span class="field-value">Thea Safari Extension</span>
                    </div>
                    <div class="field-row">
                        <label>Version</label>
                        <span class="field-value" id="ext-version">1.0.0</span>
                    </div>
                    <div class="field-row">
                        <label>Connection Status</label>
                        <span class="field-value" id="connection-status">
                            <span class="status-indicator connected"></span> Connected
                        </span>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn secondary" id="btn-sync">Sync Settings</button>
                    <button class="btn danger" id="btn-reset">Reset to Defaults</button>
                </div>
                <div class="button-group">
                    <button class="btn secondary" id="btn-export-all">Export All Settings</button>
                    <button class="btn secondary" id="btn-import-all">Import Settings</button>
                    <input type="file" id="import-file" accept=".json" style="display:none">
                </div>
            </section>

            <!-- Dark Mode -->
            <section id="section-darkmode" class="settings-section">
                <h2>Dark Mode</h2>
                <div class="card">
                    <div class="toggle-field">
                        <label>Follow System Theme</label>
                        <label class="toggle"><input type="checkbox" id="dm-follow-system"><span class="slider"></span></label>
                    </div>
                    <div class="toggle-field">
                        <label>Pause Until Tomorrow</label>
                        <label class="toggle"><input type="checkbox" id="dm-pause"><span class="slider"></span></label>
                    </div>
                    <div class="slider-field">
                        <label>Image Brightness</label>
                        <div class="slider-control">
                            <input type="range" id="dm-img-brightness" min="50" max="100" value="90">
                            <span class="slider-value" id="dm-brightness-val">90%</span>
                        </div>
                    </div>
                </div>
                <h3>Theme</h3>
                <div class="theme-grid" id="theme-grid"></div>
                <h3>Per-Site Overrides</h3>
                <div class="card">
                    <div class="list-controls">
                        <input type="text" id="site-override-domain" placeholder="example.com">
                        <select id="site-override-theme"><option value="">Default</option></select>
                        <button class="btn small" id="btn-add-override">Add</button>
                    </div>
                    <div class="data-list" id="site-overrides-list"></div>
                </div>
                <h3>Custom Theme</h3>
                <div class="card">
                    <div class="color-grid">
                        <div class="color-field">
                            <label>Background</label>
                            <input type="color" id="custom-bg" value="#1a1b26">
                        </div>
                        <div class="color-field">
                            <label>Text</label>
                            <input type="color" id="custom-text" value="#c0caf5">
                        </div>
                        <div class="color-field">
                            <label>Links</label>
                            <input type="color" id="custom-link" value="#7aa2f7">
                        </div>
                        <div class="color-field">
                            <label>Accent</label>
                            <input type="color" id="custom-accent" value="#bb9af7">
                        </div>
                    </div>
                    <div class="custom-preview" id="custom-preview">
                        <p class="preview-heading">Preview heading</p>
                        <p class="preview-text">Sample text content</p>
                        <a class="preview-link">Sample link</a>
                    </div>
                    <div class="field-row">
                        <input type="text" id="custom-theme-name" placeholder="Theme name">
                        <button class="btn small" id="btn-save-custom-theme">Save Theme</button>
                    </div>
                </div>
            </section>

            <!-- Video -->
            <section id="section-video" class="settings-section">
                <h2>Video Controller</h2>
                <div class="card">
                    <div class="slider-field">
                        <label>Default Speed</label>
                        <div class="slider-control">
                            <input type="range" id="video-speed" min="25" max="400" value="100" step="25">
                            <span class="slider-value" id="video-speed-val">1.0x</span>
                        </div>
                    </div>
                    <div class="slider-field">
                        <label>Speed Step Size</label>
                        <div class="slider-control">
                            <input type="range" id="video-step" min="5" max="50" value="10" step="5">
                            <span class="slider-value" id="video-step-val">0.1x</span>
                        </div>
                    </div>
                    <div class="toggle-field">
                        <label>Show Speed Overlay</label>
                        <label class="toggle"><input type="checkbox" id="video-overlay" checked><span class="slider"></span></label>
                    </div>
                    <div class="toggle-field">
                        <label>Remember Speed Per Site</label>
                        <label class="toggle"><input type="checkbox" id="video-remember" checked><span class="slider"></span></label>
                    </div>
                </div>
                <h3>Auto-Speed Rules</h3>
                <div class="card">
                    <p class="help-text">Automatically set speed based on video duration.</p>
                    <div class="list-controls">
                        <input type="number" id="rule-duration" placeholder="Min (sec)" min="0">
                        <input type="number" id="rule-speed" placeholder="Speed (1.0)" min="0.25" max="4" step="0.25">
                        <button class="btn small" id="btn-add-speed-rule">Add</button>
                    </div>
                    <div class="data-list" id="speed-rules-list"></div>
                </div>
                <h3>Keyboard Shortcuts</h3>
                <div class="card shortcuts-ref">
                    <div class="shortcut-row"><kbd>D</kbd> <span>Speed up</span></div>
                    <div class="shortcut-row"><kbd>S</kbd> <span>Speed down</span></div>
                    <div class="shortcut-row"><kbd>R</kbd> <span>Reset speed</span></div>
                    <div class="shortcut-row"><kbd>Z</kbd> <span>Rewind 10s</span></div>
                    <div class="shortcut-row"><kbd>X</kbd> <span>Forward 10s</span></div>
                    <div class="shortcut-row"><kbd>V</kbd> <span>Toggle overlay</span></div>
                </div>
            </section>

            <!-- AI Assistant -->
            <section id="section-ai" class="settings-section">
                <h2>AI Assistant</h2>
                <div class="card">
                    <div class="toggle-field">
                        <label>Enable AI Assistant</label>
                        <label class="toggle"><input type="checkbox" id="ai-enabled" checked><span class="slider"></span></label>
                    </div>
                    <div class="field-row-input">
                        <label>Model Preference</label>
                        <select id="ai-model">
                            <option value="auto">Auto (Recommended)</option>
                            <option value="fast">Fast (GPT-4o Mini)</option>
                            <option value="balanced">Balanced (Claude Sonnet)</option>
                            <option value="powerful">Powerful (GPT-4o / Claude Opus)</option>
                            <option value="local">Local Model</option>
                        </select>
                    </div>
                    <div class="toggle-field">
                        <label>Deep Research Mode</label>
                        <label class="toggle"><input type="checkbox" id="ai-deep-research"><span class="slider"></span></label>
                    </div>
                </div>
                <h3>Slash Commands</h3>
                <div class="card shortcuts-ref">
                    <div class="shortcut-row"><kbd>/summarize</kbd> <span>Summarize page</span></div>
                    <div class="shortcut-row"><kbd>/translate</kbd> <span>Translate selection</span></div>
                    <div class="shortcut-row"><kbd>/explain</kbd> <span>Explain content</span></div>
                    <div class="shortcut-row"><kbd>/code</kbd> <span>Analyze code</span></div>
                    <div class="shortcut-row"><kbd>/write</kbd> <span>Help write content</span></div>
                </div>
                <div class="button-group">
                    <button class="btn danger" id="btn-clear-history">Clear Conversation History</button>
                </div>
            </section>

            <!-- Privacy -->
            <section id="section-privacy" class="settings-section">
                <h2>Privacy</h2>
                <div class="card">
                    <div class="toggle-field">
                        <label>Cookie Auto-Decline</label>
                        <label class="toggle"><input type="checkbox" id="priv-cookies" checked><span class="slider"></span></label>
                    </div>
                    <div class="toggle-field">
                        <label>Fingerprint Protection</label>
                        <label class="toggle"><input type="checkbox" id="priv-fingerprint" checked><span class="slider"></span></label>
                    </div>
                    <div class="toggle-field">
                        <label>CNAME Cloaking Defense</label>
                        <label class="toggle"><input type="checkbox" id="priv-cname" checked><span class="slider"></span></label>
                    </div>
                    <div class="toggle-field">
                        <label>Referrer Stripping</label>
                        <label class="toggle"><input type="checkbox" id="priv-referrer" checked><span class="slider"></span></label>
                    </div>
                    <div class="toggle-field">
                        <label>Link Unshimming</label>
                        <label class="toggle"><input type="checkbox" id="priv-unshim" checked><span class="slider"></span></label>
                    </div>
                    <div class="toggle-field">
                        <label>Tracking Parameter Removal</label>
                        <label class="toggle"><input type="checkbox" id="priv-params" checked><span class="slider"></span></label>
                    </div>
                    <div class="toggle-field">
                        <label>Social Widget Blocking</label>
                        <label class="toggle"><input type="checkbox" id="priv-social"><span class="slider"></span></label>
                    </div>
                    <div class="toggle-field">
                        <label>WebRTC IP Protection</label>
                        <label class="toggle"><input type="checkbox" id="priv-webrtc"><span class="slider"></span></label>
                    </div>
                </div>
            </section>

            <!-- Passwords -->
            <section id="section-passwords" class="settings-section">
                <h2>Passwords</h2>
                <div class="card">
                    <div class="toggle-field">
                        <label>Enable Password Manager</label>
                        <label class="toggle"><input type="checkbox" id="pass-enabled"><span class="slider"></span></label>
                    </div>
                    <div class="toggle-field">
                        <label>Passkey Support</label>
                        <label class="toggle"><input type="checkbox" id="pass-passkey"><span class="slider"></span></label>
                    </div>
                    <div class="toggle-field">
                        <label>TOTP / 2FA Auto-Fill</label>
                        <label class="toggle"><input type="checkbox" id="pass-totp"><span class="slider"></span></label>
                    </div>
                </div>
                <h3>Saved Passwords</h3>
                <div class="card">
                    <table class="data-table" id="passwords-table">
                        <thead><tr><th>Domain</th><th>Username</th><th>Actions</th></tr></thead>
                        <tbody id="passwords-body">
                            <tr><td colspan="3" class="empty-state">No saved passwords</td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="button-group">
                    <button class="btn secondary" id="btn-import-passwords">Import</button>
                    <button class="btn secondary" id="btn-export-passwords">Export</button>
                </div>
            </section>

            <!-- Memory -->
            <section id="section-memory" class="settings-section">
                <h2>Memory</h2>
                <div class="card">
                    <div class="toggle-field">
                        <label>Enable Memory</label>
                        <label class="toggle"><input type="checkbox" id="mem-enabled" checked><span class="slider"></span></label>
                    </div>
                    <div class="toggle-field">
                        <label>Auto-Capture Pages</label>
                        <label class="toggle"><input type="checkbox" id="mem-auto"><span class="slider"></span></label>
                    </div>
                    <div class="slider-field">
                        <label>Max Memories</label>
                        <div class="slider-control">
                            <input type="range" id="mem-max" min="50" max="1000" value="500" step="50">
                            <span class="slider-value" id="mem-max-val">500</span>
                        </div>
                    </div>
                    <div class="slider-field">
                        <label>Expiry (Days)</label>
                        <div class="slider-control">
                            <input type="range" id="mem-expiry" min="7" max="365" value="90" step="7">
                            <span class="slider-value" id="mem-expiry-val">90</span>
                        </div>
                    </div>
                </div>
                <h3>Memory Browser</h3>
                <div class="card">
                    <input type="text" class="search-input" id="memory-search" placeholder="Search memories...">
                    <div class="data-list scrollable" id="memory-list">
                        <div class="empty-state">No memories saved yet</div>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn secondary" id="btn-export-memory">Export JSON</button>
                    <button class="btn secondary" id="btn-import-memory">Import JSON</button>
                    <input type="file" id="memory-import-file" accept=".json" style="display:none">
                    <button class="btn danger" id="btn-clear-memory">Clear All</button>
                </div>
            </section>

            <!-- Writing -->
            <section id="section-writing" class="settings-section">
                <h2>Writing Assistant</h2>
                <div class="card">
                    <div class="toggle-field">
                        <label>Enable Writing Assistant</label>
                        <label class="toggle"><input type="checkbox" id="write-enabled"><span class="slider"></span></label>
                    </div>
                    <div class="slider-field">
                        <label>Suggestion Delay</label>
                        <div class="slider-control">
                            <input type="range" id="write-delay" min="100" max="2000" value="500" step="100">
                            <span class="slider-value" id="write-delay-val">500ms</span>
                        </div>
                    </div>
                    <div class="field-row-input">
                        <label>Tone Preference</label>
                        <select id="write-tone">
                            <option value="professional">Professional</option>
                            <option value="casual">Casual</option>
                            <option value="academic">Academic</option>
                            <option value="creative">Creative</option>
                            <option value="concise">Concise</option>
                        </select>
                    </div>
                </div>
                <h3>Style Profile</h3>
                <div class="card">
                    <div class="style-profile" id="style-profile">
                        <p class="help-text">Your writing style profile will be built as you use the assistant. It helps Thea match your natural tone and vocabulary.</p>
                    </div>
                </div>
            </section>

            <!-- Ad Blocker -->
            <section id="section-adblocker" class="settings-section">
                <h2>Ad Blocker</h2>
                <div class="card">
                    <div class="toggle-field">
                        <label>Enable Ad Blocker</label>
                        <label class="toggle"><input type="checkbox" id="ab-enabled" checked><span class="slider"></span></label>
                    </div>
                    <div class="field-row">
                        <label>Total Ads Blocked</label>
                        <span class="field-value stat-highlight" id="ab-count">0</span>
                    </div>
                </div>
                <h3>Whitelist</h3>
                <div class="card">
                    <p class="help-text">Domains where ads will not be blocked.</p>
                    <div class="list-controls">
                        <input type="text" id="whitelist-domain" placeholder="example.com">
                        <button class="btn small" id="btn-add-whitelist">Add</button>
                    </div>
                    <div class="data-list" id="whitelist-list"></div>
                </div>
                <h3>Custom Rules</h3>
                <div class="card">
                    <p class="help-text">Add CSS selectors to hide elements on specific sites.</p>
                    <div class="list-controls">
                        <input type="text" id="rule-domain" placeholder="Domain">
                        <input type="text" id="rule-selector" placeholder="CSS selector">
                        <button class="btn small" id="btn-add-rule">Add</button>
                    </div>
                    <div class="data-list" id="custom-rules-list"></div>
                    <p class="help-text">Tip: Use the browser inspector to find element selectors to hide.</p>
                </div>
            </section>

            <!-- About -->
            <section id="section-about" class="settings-section">
                <h2>About Thea</h2>
                <div class="card about-card">
                    <div class="about-logo">
                        <svg width="48" height="48" viewBox="0 0 64 64" fill="none">
                            <rect width="64" height="64" rx="14" fill="url(#alg)"/>
                            <path d="M20 24h24M20 32h18M20 40h22" stroke="#fff" stroke-width="3" stroke-linecap="round"/>
                            <circle cx="46" cy="42" r="8" fill="#00D4AA" stroke="#fff" stroke-width="2"/>
                            <path d="M44 42l2 2 4-4" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            <defs><linearGradient id="alg" x1="0" y1="0" x2="64" y2="64"><stop stop-color="#0066FF"/><stop offset="1" stop-color="#00D4AA"/></linearGradient></defs>
                        </svg>
                        <div>
                            <h3>Thea</h3>
                            <span class="about-version">Version <span id="about-version">1.0.0</span></span>
                        </div>
                    </div>
                    <p class="about-desc">Your intelligent AI companion in Safari. Thea brings AI-powered assistance, privacy protection, and productivity tools directly into your browsing experience.</p>
                    <div class="about-links">
                        <a href="https://github.com/Atchoum23/Thea" class="about-link">GitHub Repository</a>
                        <a href="thea://" class="about-link" id="about-open-app">Open Thea App</a>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="options.js"></script>
</body>
</html>
