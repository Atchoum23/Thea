/* ==========================================================================
   Thea Safari Extension - Writing Assistant Styles
   Floating suggestion tooltip, accept/dismiss actions, keyboard hints,
   style badges, and appear/dismiss animations.

   Brand Colors:
     Blue   #0066FF
     Teal   #00D4AA
     Purple #8B5CF6

   All selectors prefixed with #thea- or .thea- to avoid page conflicts.
   ========================================================================== */

/* ---------------------------------------------------------------------------
   Floating Suggestion Tooltip
   Appears near the cursor/caret while the user types in text fields.
   --------------------------------------------------------------------------- */

#thea-writing-tooltip {
  position: fixed;
  z-index: 2147483647;
  background: #1C1C22;
  color: #F5F5F7;
  padding: 12px 16px;
  border-radius: 12px;
  font-size: 13px;
  max-width: 360px;
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.35);
  border: 1px solid rgba(255, 255, 255, 0.08);
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', system-ui, sans-serif;
  line-height: 1.5;
  animation: theaTooltipIn 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Dismissing state */
#thea-writing-tooltip.thea-dismissing {
  animation: theaTooltipOut 0.15s ease-in forwards;
}

/* Caret pointer (bottom-left arrow) */
#thea-writing-tooltip::before {
  content: '';
  position: absolute;
  bottom: -6px;
  left: 20px;
  width: 12px;
  height: 12px;
  background: #1C1C22;
  border-right: 1px solid rgba(255, 255, 255, 0.08);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  transform: rotate(45deg);
}

/* When tooltip appears above the text */
#thea-writing-tooltip.thea-above::before {
  top: -6px;
  bottom: auto;
  transform: rotate(-135deg);
}

/* ---------------------------------------------------------------------------
   Suggestion Text
   The actual suggested text content.
   --------------------------------------------------------------------------- */

#thea-writing-tooltip .thea-wt-suggestion {
  color: #E0E0E5;
  margin-bottom: 10px;
}

/* Highlighted diff: original text faded, suggested text bright */
#thea-writing-tooltip .thea-wt-original {
  text-decoration: line-through;
  color: #6E6E73;
}

#thea-writing-tooltip .thea-wt-improved {
  color: #00D4AA;
  font-weight: 500;
}

/* ---------------------------------------------------------------------------
   Style Indicator Badge
   Shows what type of improvement is suggested (Grammar, Clarity, Tone, etc.)
   --------------------------------------------------------------------------- */

#thea-writing-tooltip .thea-wt-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}

/* Badge variants */
#thea-writing-tooltip .thea-wt-badge.thea-grammar {
  background: rgba(0, 102, 255, 0.15);
  color: #6B9FFF;
}

#thea-writing-tooltip .thea-wt-badge.thea-clarity {
  background: rgba(0, 212, 170, 0.15);
  color: #00D4AA;
}

#thea-writing-tooltip .thea-wt-badge.thea-tone {
  background: rgba(139, 92, 246, 0.15);
  color: #A78BFA;
}

#thea-writing-tooltip .thea-wt-badge.thea-spelling {
  background: rgba(255, 59, 48, 0.12);
  color: #FF6961;
}

#thea-writing-tooltip .thea-wt-badge.thea-concise {
  background: rgba(255, 149, 0, 0.12);
  color: #FFB340;
}

/* ---------------------------------------------------------------------------
   Action Buttons
   Accept and Dismiss actions below the suggestion.
   --------------------------------------------------------------------------- */

#thea-writing-tooltip .thea-wt-actions {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 10px;
}

#thea-writing-tooltip .thea-wt-accept {
  padding: 5px 14px;
  background: #0066FF;
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.15s;
  font-family: inherit;
}

#thea-writing-tooltip .thea-wt-accept:hover {
  background: #0055DD;
}

#thea-writing-tooltip .thea-wt-dismiss {
  padding: 5px 12px;
  background: rgba(255, 255, 255, 0.08);
  color: #8E8E93;
  border: none;
  border-radius: 6px;
  font-size: 12px;
  cursor: pointer;
  transition: background 0.15s, color 0.15s;
  font-family: inherit;
}

#thea-writing-tooltip .thea-wt-dismiss:hover {
  background: rgba(255, 255, 255, 0.14);
  color: #AEAEB2;
}

/* ---------------------------------------------------------------------------
   Keyboard Shortcut Hints
   Small labels showing keyboard shortcuts next to buttons.
   --------------------------------------------------------------------------- */

#thea-writing-tooltip .thea-wt-shortcut {
  font-family: 'SF Mono', SFMono-Regular, Menlo, monospace;
  font-size: 10px;
  color: #6E6E73;
  padding: 2px 5px;
  background: rgba(255, 255, 255, 0.06);
  border-radius: 3px;
  margin-left: auto;
}

/* ---------------------------------------------------------------------------
   Animations
   --------------------------------------------------------------------------- */

@keyframes theaTooltipIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes theaTooltipOut {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(4px);
  }
}

/* ---------------------------------------------------------------------------
   Light Mode Override
   When the system is in light mode, the tooltip can optionally use a
   light theme if the page background is light.
   --------------------------------------------------------------------------- */

@media (prefers-color-scheme: light) {
  #thea-writing-tooltip.thea-light-variant {
    background: #FFFFFF;
    color: #1C1C1E;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.12);
  }

  #thea-writing-tooltip.thea-light-variant::before {
    background: #FFFFFF;
    border-color: rgba(0, 0, 0, 0.1);
  }

  #thea-writing-tooltip.thea-light-variant .thea-wt-suggestion {
    color: #333;
  }

  #thea-writing-tooltip.thea-light-variant .thea-wt-original {
    color: #999;
  }

  #thea-writing-tooltip.thea-light-variant .thea-wt-improved {
    color: #00875A;
  }

  #thea-writing-tooltip.thea-light-variant .thea-wt-dismiss {
    background: rgba(0, 0, 0, 0.04);
    color: #666;
  }

  #thea-writing-tooltip.thea-light-variant .thea-wt-shortcut {
    color: #999;
    background: rgba(0, 0, 0, 0.04);
  }
}
