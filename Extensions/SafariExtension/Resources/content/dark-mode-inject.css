/* ==========================================================================
   Thea Safari Extension - Dark Mode Injectable Styles
   Per-site dark mode injection using CSS custom properties.

   Activated by setting data-thea-dark attribute on the <html> element.
   Theme values are customizable via CSS custom properties (--thea-*),
   allowing per-site palette adjustments from JavaScript.

   Brand Colors:
     Blue   #0066FF
     Teal   #00D4AA
     Purple #8B5CF6
   ========================================================================== */

/* ---------------------------------------------------------------------------
   Custom Property Defaults
   Override these via inline styles on <html> for per-site customization:
   document.documentElement.style.setProperty('--thea-bg', '#121212');
   --------------------------------------------------------------------------- */

:root {
  --thea-dm-bg:       var(--thea-bg, #1a1a2e);
  --thea-dm-surface:  var(--thea-surface, #1f1f35);
  --thea-dm-text:     var(--thea-text, #eaeaea);
  --thea-dm-text-sec: var(--thea-text-sec, #9e9eb8);
  --thea-dm-link:     var(--thea-link, #6b9fff);
  --thea-dm-accent:   var(--thea-accent, #4d7fff);
  --thea-dm-border:   var(--thea-border, #2d2d44);
}

/* ---------------------------------------------------------------------------
   Base: html & body
   --------------------------------------------------------------------------- */

html[data-thea-dark],
html[data-thea-dark] body {
  background-color: var(--thea-dm-bg) !important;
  color: var(--thea-dm-text) !important;
}

/* ---------------------------------------------------------------------------
   Borders
   --------------------------------------------------------------------------- */

html[data-thea-dark] * {
  border-color: var(--thea-dm-border) !important;
}

/* ---------------------------------------------------------------------------
   Links
   --------------------------------------------------------------------------- */

html[data-thea-dark] a,
html[data-thea-dark] a:link,
html[data-thea-dark] a:visited {
  color: var(--thea-dm-link) !important;
}

html[data-thea-dark] a:hover {
  color: var(--thea-dm-accent) !important;
}

/* ---------------------------------------------------------------------------
   Structural Elements
   Containers, sections, layout blocks.
   --------------------------------------------------------------------------- */

html[data-thea-dark] div,
html[data-thea-dark] section,
html[data-thea-dark] article,
html[data-thea-dark] main,
html[data-thea-dark] aside,
html[data-thea-dark] nav,
html[data-thea-dark] header,
html[data-thea-dark] footer,
html[data-thea-dark] form,
html[data-thea-dark] details,
html[data-thea-dark] summary,
html[data-thea-dark] dialog {
  background-color: var(--thea-dm-bg) !important;
  color: var(--thea-dm-text) !important;
}

/* ---------------------------------------------------------------------------
   Text Elements
   --------------------------------------------------------------------------- */

html[data-thea-dark] p,
html[data-thea-dark] span,
html[data-thea-dark] li,
html[data-thea-dark] td,
html[data-thea-dark] th,
html[data-thea-dark] label,
html[data-thea-dark] legend,
html[data-thea-dark] figcaption,
html[data-thea-dark] blockquote,
html[data-thea-dark] cite,
html[data-thea-dark] em,
html[data-thea-dark] strong,
html[data-thea-dark] small,
html[data-thea-dark] h1,
html[data-thea-dark] h2,
html[data-thea-dark] h3,
html[data-thea-dark] h4,
html[data-thea-dark] h5,
html[data-thea-dark] h6 {
  color: var(--thea-dm-text) !important;
}

/* Secondary text */
html[data-thea-dark] .thea-dm-secondary,
html[data-thea-dark] small,
html[data-thea-dark] figcaption {
  color: var(--thea-dm-text-sec) !important;
}

/* ---------------------------------------------------------------------------
   Form Elements
   --------------------------------------------------------------------------- */

html[data-thea-dark] input,
html[data-thea-dark] textarea,
html[data-thea-dark] select,
html[data-thea-dark] button {
  background-color: var(--thea-dm-surface) !important;
  color: var(--thea-dm-text) !important;
  border-color: var(--thea-dm-border) !important;
}

html[data-thea-dark] input::placeholder,
html[data-thea-dark] textarea::placeholder {
  color: var(--thea-dm-text-sec) !important;
}

html[data-thea-dark] input:focus,
html[data-thea-dark] textarea:focus,
html[data-thea-dark] select:focus {
  outline-color: var(--thea-dm-accent) !important;
}

/* ---------------------------------------------------------------------------
   Tables
   --------------------------------------------------------------------------- */

html[data-thea-dark] table,
html[data-thea-dark] tr,
html[data-thea-dark] td,
html[data-thea-dark] th {
  background-color: var(--thea-dm-bg) !important;
  border-color: var(--thea-dm-border) !important;
}

html[data-thea-dark] th {
  background-color: var(--thea-dm-surface) !important;
}

/* ---------------------------------------------------------------------------
   Code Blocks
   --------------------------------------------------------------------------- */

html[data-thea-dark] pre,
html[data-thea-dark] code,
html[data-thea-dark] kbd,
html[data-thea-dark] samp {
  background-color: var(--thea-dm-surface) !important;
  color: var(--thea-dm-text) !important;
}

/* ---------------------------------------------------------------------------
   Media
   Images get a slight brightness reduction; video is untouched.
   --------------------------------------------------------------------------- */

html[data-thea-dark] img {
  filter: brightness(var(--thea-img-brightness, 0.9));
}

html[data-thea-dark] video {
  filter: none;
}

/* SVG icons adapt to text color */
html[data-thea-dark] svg {
  fill: currentColor;
}

/* ---------------------------------------------------------------------------
   Selection
   --------------------------------------------------------------------------- */

html[data-thea-dark] ::selection {
  background-color: var(--thea-dm-accent) !important;
  color: var(--thea-dm-bg) !important;
}

/* ---------------------------------------------------------------------------
   Scrollbar (WebKit)
   --------------------------------------------------------------------------- */

html[data-thea-dark] ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

html[data-thea-dark] ::-webkit-scrollbar-track {
  background: var(--thea-dm-bg);
}

html[data-thea-dark] ::-webkit-scrollbar-thumb {
  background: var(--thea-dm-border);
  border-radius: 4px;
}

html[data-thea-dark] ::-webkit-scrollbar-thumb:hover {
  background: var(--thea-dm-text-sec);
}

/* ---------------------------------------------------------------------------
   Smooth Transition
   Provides a gentle fade when toggling dark mode on/off.
   --------------------------------------------------------------------------- */

html[data-thea-dark] * {
  transition: background-color 0.15s ease, color 0.15s ease;
}
